autogenerated = 0
monitor=,preferred,auto,auto


$mod = SUPER
source = ~/.config/theme/colours/hyprland.conf


# hyprland startup
exec-once = systemctl --user start hyprland-session.target
exec-once = waybar
exec-once = wl-clipboard
exec-once = "/usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1"
# exec-once = "/usr/lib/polkit-kde-authentication-agent-1"
exec-once = hyprpaper

# autostart applications
# sleep to let waybar come up first
exec-once = sleep 1 & "/opt/Mullvad VPN/mullvad-vpn" %U
exec-once = sleep 1 & "/usr/bin/nextcloud" --background


# application exec commands
$terminal = alacritty
$tmux = alacritty --command tmux
$file_manager = thunar
$menu = wofi --show drun
$emoji_picker = rofimoji -a print type copy


# env variables
env = XCURSOR_SIZE,24
env = QT_QPA_PLATFORMTHEME,qt5ct

env = GTK_THEME,bpharris
env = ICON_THEME,bpharris


# wm inupt conf
input {
    kb_layout = gb
    kb_variant =
    kb_model =
    kb_options = caps:swapescape
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = no
    }

    sensitivity = 0.6
    accel_profile = flat
}


# wm style / general conf
general {
    gaps_in = 5
    gaps_out = 10

    border_size = 1
	no_border_on_floating = false
    col.active_border = rgb(DEDEDE)
    col.inactive_border = rgb(080808)

    layout = master

    allow_tearing = false
}

decoration {
    rounding = 4

	active_opacity = 1.0
	inactive_opacity = 1.0
	fullscreen_opacity = 1.0
    
    blur {
        enabled = true
        size = 3
        passes = 1
		# special = true
    }

    drop_shadow = yes
    shadow_range = 16
    shadow_render_power = 2
    col.shadow = rgb(161616)

	dim_inactive = true
	dim_strength = 0.1
	dim_special = 0.1
}

animations {
    enabled = yes

    bezier = overshot, 0.05, 0.9, 0.1, 1.02

    animation = windows, 1, 7, overshot
    animation = windowsOut, 1, 7, default, popin 80%
    animation = border, 1, 10, default
    animation = borderangle, 1, 8, default
    animation = fade, 1, 7, default
    animation = workspaces, 1, 6, default

	animation = layersIn, 1, 2, default, popin 90%
	animation = layersOut, 1, 3, default
}
layerrule = noanim, ^(logout_dialog)$

gestures {
    workspace_swipe = off
}

misc {
	enable_swallow = true
	swallow_regex = ^(Alacritty)$
}

binds {
	allow_workspace_cycles = true
	workspace_back_and_forth = false
}


# layouts
dwindle {
    pseudotile = yes
    preserve_split = yes
}

master {
    new_status = master
	no_gaps_when_only = false
	smart_resizing = false
}


# Example windowrule v1
# windowrule = float, ^(kitty)$
# Example windowrule v2
# windowrulev2 = float,class:^(kitty)$,title:^(kitty)$
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# windowrulev2 = nomaximizerequest, class:.* # You'll probably like this.


# fix steam wonkyness
windowrulev2 = stayfocused, title:^()$,class:^(steam)$
windowrulev2 = minsize 1 1, title:^()$,class:^(steam)$


# keybinds
# --------

# spawns
bind = $mod, return, exec, $tmux
bind = $mod, f, exec, $file_manager
bind = $mod, p, exec, $menu
bind = $mod, e, exec, $emoji_picker

# wm controls
bind = $mod shift, Q, killactive, 
bind = $mod shift ALT, Q, exit, 

bind = $mod, v, togglefloating, 
bind = $mod shift, f, fullscreen

binde = $mod, j, cyclenext, 
binde = $mod, k, cyclenext, prev
bind  = $mod, h, splitratio, -0.05
bind  = $mod, l, splitratio, +0.05

binde = $mod, left, movefocus, l
binde = $mod, up, movefocus, u
binde = $mod, down, movefocus, d
binde = $mod, right, movefocus, r

bind = $mod shift,    l,      exec, hyprlock
bind =      ctrl alt, delete, exec, wlogout -b 4

# todo: when changing master cyclenext etc break
bind = $mod, space, layoutmsg, swapwithmaster child

# wm controls: workspaces
bind = $mod, 1, workspace, 1
bind = $mod, 2, workspace, 2
bind = $mod, 3, workspace, 3
bind = $mod, 4, workspace, 4
bind = $mod, 5, workspace, 5
bind = $mod, 6, workspace, 6
bind = $mod, 7, workspace, 7
bind = $mod, 8, workspace, 8
bind = $mod, 9, workspace, 9
bind = $mod, 0, workspace, 10

bind = $mod shift, 1, movetoworkspace, 1
bind = $mod shift, 2, movetoworkspace, 2
bind = $mod shift, 3, movetoworkspace, 3
bind = $mod shift, 4, movetoworkspace, 4
bind = $mod shift, 5, movetoworkspace, 5
bind = $mod shift, 6, movetoworkspace, 6
bind = $mod shift, 7, movetoworkspace, 7
bind = $mod shift, 8, movetoworkspace, 8
bind = $mod shift, 9, movetoworkspace, 9
bind = $mod shift, 0, movetoworkspace, 10

bind = $mod, tab, workspace, previous

# wm controls: master

# screenshots
$screenshot_path = $(xdg-user-dir PICTURES)/screenshots/$(date -u "+%Y-%m-%d_%H-%M-%S.png")
bind =      , print, exec, grim               - | tee $screenshot_path | wl-copy
bind = shift, print, exec, grim -g "$(slurp)" - | tee $screenshot_path | wl-copy

# scratchpads
workspace = special:scratchpad_terminal, on-created-empty:[stayfocused]$terminal --title floatlacritty
bind = $mod shift, s, togglespecialworkspace, scratchpad_terminal

workspace = special:scratchpad_htop, on-created-empty:$terminal --title floatlacritty --command htop
bind = $mod shift, h, togglespecialworkspace, scratchpad_htop

workspace = special:scratchpad_keepassxc, on-created-empty:keepassxc
bind = $mod shift, k, togglespecialworkspace, scratchpad_keepassxc

# scratchpad window rules
windowrulev2 = float,title:(floatlacritty)
windowrulev2 = size 1600 900,title:(floatlacritty)
windowrulev2 = center,title:(floatlacritty)
windowrulev2 = stayfocused,title:(floatlacritty)


# media controls
binde = , XF86AudioRaiseVolume, exec, ~/.local/bin/xf86-pulseaudio volume-up
binde = , XF86AudioLowerVolume, exec, ~/.local/bin/xf86-pulseaudio volume-down
binde = , XF86AudioMute, exec, ~/.local/bin/xf86-pulseaudio toggle-mute


# mousebinds
bind = $mod, mouse_up, workspace, e+1
bind = $mod, mouse_down, workspace, e-1

bindm = $mod, mouse:272, movewindow
bindm = $mod, mouse:273, resizewindow

